<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Profile</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #1e4b55;
        margin: 0;
        padding: 0;
        color: #eab762;
    }
    .container {
        max-width: 800px;
        margin: auto;
        background-color: #1e4b55;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px #eab762;
    }
    .navigation-buttons {
    display: flex;
    justify-content: space-between;
    background-color: #1e4b55;
    padding: 10px;
    color: #fde7c0;
}

.navigation-buttons a {
    text-decoration: none;
    color: #fde7c0;
    padding: 5px 10px;
    border: 1px solid #555;
    border-radius: 5px;
    margin-right: 10px;
    background-color: #1e4b55;
    box-shadow:  0 4px 8px #eab762;
}

.navigation-buttons a:hover {
    background-color: rgb(227, 95, 23);
}

    .profile-header {
        text-align: center;
        margin-bottom: 30px;
    }
    .profile-header h1 {
        margin: 0;
    }
    .profile-header p {
        color: #fde7c0;
        margin: 5px 0 20px;
    }
    .profile-details {
        margin-bottom: 30px;
    }
    .profile-details h2 {
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
        margin-top: 0;
    }
    .profile-details ul {
        list-style: none;
        padding: 0;
    }
    .profile-details ul li {
        padding: 5px 0;
    }
    .label {
        font-weight: bold;
    }
    .artwork-list {
        padding: 0;
    }
    .artwork-list h2 {
        margin-top: 0;
    }
    .artwork-list ul {
        list-style: none;
        padding: 0;
    }
    .artwork-list img {
        height: 200px; /* Set the desired height for the images */
        object-fit: cover; /* Maintain aspect ratio and fill the container */
    }

    .artwork-list ul li {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
</style>
</head>
<body>
<div class="navigation-buttons">
    <a href="{{ url_for('welcome') }}">Welcome</a>
    <a href="{{ url_for('artworks') }}">Artworks</a>
</div>  
<div class="container">
    <div class="profile-header">
        <h1>{{ profile_title }}</h1>
        <p>Explore the artworks you love!</p>
    </div>  
    <div class="profile-details">
        <h2>Personal Details</h2>
        <ul>
            <li><span class="label">Full Name:</span> {{ user.FullName }}</li>
            <li><span class="label">Username:</span> {{ user.UserName }}</li>
            <li><span class="label">Phone:</span> {{ visitor.PhoneNumber }}</li>
            <li><span class="label">Email:</span> {{ visitor.Email }}</li>
            <li><span class="label">Address:</span> {{ visitor.Address }}</li>
            <li><span class="label">Digital Wallet:</span> ${{ visitor.DigitalWallet}}</li>
        </ul>
    </div>
    <div class="artwork-list">
        <h2>Purchased Artworks</h2>
        <ul>
            {% if purchased_artworks %}
                {% for artwork in purchased_artworks %}
                    <li>
                        <img src="{{ url_for('static', filename='Artworks/' + artwork.ArtworkID|string + '.jpg') }}" alt="{{ artwork.ATitle }}" style="height: 200px;">
                        <div>
                            <strong>Title:</strong> {{ artwork.ATitle }}<br>
                            <strong>Style:</strong> {{ artwork.AStyle }}<br>
                            <strong>Description:</strong> {{ artwork.Description }}<br>
                        </div>
                    </li>
                {% endfor %}
            {% else %}
                <li>No artworks purchased yet.</li>
            {% endif %}
        </ul>
    </div>
</div>
</body>
<style>
    .artwork-list ul {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-gap: 10px;
    }
</style>
</head>

<body>
    <h1>Most Ocurring Artwork Type</h1>
    <button id="executeButton">Execute</button>

    <!-- Notification Bubble for Results -->
    <div id="notificationBubble">
        <h2>Results:</h2>
        <ul id="resultsList"></ul>
        <script>
            $(document).ready(function() {
                $('#executeButton').on('click', function(e) {
                    e.preventDefault(); // Prevent the default form submit
                    $.ajax({
                        type: 'POST',
                        url: "{{ url_for('execute_python_function') }}",
                        dataType: 'json',
                        success: function(response) {
                            $('#resultsList').empty(); // Clear previous results
                            if (response.error) {
                                $('#resultsList').append('<li>' + response.error + '</li>');
                            } else {
                                response.data.forEach(function(item) {
                                    // Access properties by their names
                                    $('#resultsList').append('<li>' + item.art_type + ': ' + item.count + '</li>');
                                });
                            }
                            $('#notificationBubble').show(); // Show the notification bubble
                        },
                        error: function() {
                            $('#resultsList').append('<li>Error fetching data</li>');
                            $('#notificationBubble').show();
                        }
                    });
                });
            });
        </script>
    </div>

    
    
</body>